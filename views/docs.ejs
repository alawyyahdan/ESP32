<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %> - ESP32-CAM Streaming Provider</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="/dashboard" class="text-blue-600 hover:text-blue-800 mr-4">
                        <i class="fas fa-arrow-left mr-1"></i>
                        Back to Dashboard
                    </a>
                    <div class="flex-shrink-0">
                        <h1 class="text-xl font-bold text-gray-900">
                            <i class="fas fa-book text-blue-500 mr-2"></i>
                            ESP32-CAM Documentation
                        </h1>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/docs/generator" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium">
                        <i class="fas fa-code mr-2"></i>
                        Code Generator
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Sidebar Navigation -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-lg shadow p-6 sticky top-8">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Quick Navigation</h3>
                    <nav class="space-y-2">
                        <a href="#overview" class="block text-sm text-gray-600 hover:text-blue-600">Overview</a>
                        <a href="#hardware-setup" class="block text-sm text-gray-600 hover:text-blue-600">Hardware Setup</a>
                        <a href="#arduino-setup" class="block text-sm text-gray-600 hover:text-blue-600">ESP32 IDE Setup</a>
                        <a href="#configuration" class="block text-sm text-gray-600 hover:text-blue-600">Configuration Options</a>
                        <a href="#resolutions" class="block text-sm text-gray-600 hover:text-blue-600">Resolution Guide</a>
                        <a href="#performance" class="block text-sm text-gray-600 hover:text-blue-600">Performance Tips</a>
                        <a href="#troubleshooting" class="block text-sm text-gray-600 hover:text-blue-600">Troubleshooting</a>
                        <a href="#examples" class="block text-sm text-gray-600 hover:text-blue-600">Example Configurations</a>
                    </nav>
                </div>
            </div>

            <!-- Main Documentation -->
            <div class="lg:col-span-3">
                <!-- Overview -->
                <section id="overview" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-info-circle text-blue-500 mr-2"></i>
                        Overview
                    </h2>
                    <p class="text-gray-600 mb-4">
                        ESP32-CAM Universal Streaming Client adalah kode ESP32 yang dapat dikustomisasi untuk berbagai kebutuhan streaming. 
                        Satu kode untuk semua konfigurasi - dari monitoring sederhana hingga streaming realtime berkualitas tinggi.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <i class="fas fa-cog text-blue-600 text-2xl mb-2"></i>
                            <h3 class="font-medium text-gray-900">Fully Customizable</h3>
                            <p class="text-sm text-gray-600">Semua pengaturan bisa disesuaikan dengan kebutuhan</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg">
                            <i class="fas fa-download text-green-600 text-2xl mb-2"></i>
                            <h3 class="font-medium text-gray-900">Easy Download</h3>
                            <p class="text-sm text-gray-600">Generate dan download kode yang sudah dikonfigurasi</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg">
                            <i class="fas fa-chart-line text-purple-600 text-2xl mb-2"></i>
                            <h3 class="font-medium text-gray-900">Performance Monitoring</h3>
                            <p class="text-sm text-gray-600">Built-in monitoring dan statistik performance</p>
                        </div>
                    </div>
                </section>

                <!-- Hardware Setup -->
                <section id="hardware-setup" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-microchip text-green-500 mr-2"></i>
                        Hardware Setup
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="text-lg font-medium text-gray-900 mb-3">Required Components</h3>
                            <ul class="space-y-2 text-gray-600">
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    ESP32-CAM (AI-Thinker recommended)
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    FTDI Programmer (FT232RL atau CH340)
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    Jumper wires
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    5V Power supply (recommended)
                                </li>
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-medium text-gray-900 mb-3">Wiring Diagram</h3>
                            <div class="bg-gray-100 p-4 rounded-lg">
                                <pre class="text-sm"><code>ESP32-CAM  <->  FTDI Programmer
VCC        <->  5V (atau 3.3V)
GND        <->  GND
U0R        <->  TX
U0T        <->  RX
IO0        <->  GND (saat upload saja)</code></pre>
                            </div>
                            <p class="text-sm text-gray-500 mt-2">
                                <i class="fas fa-exclamation-triangle text-yellow-500 mr-1"></i>
                                Lepas koneksi IO0-GND setelah upload selesai
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ESP32 IDE Setup -->
                <section id="arduino-setup" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-code text-purple-500 mr-2"></i>
                        ESP32 Development Setup
                    </h2>
                    
                    <div class="space-y-4">
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4">
                            <h3 class="font-medium text-blue-900 mb-2">1. Install ESP32 Board Package</h3>
                            <p class="text-blue-800 text-sm mb-2">Tambahkan URL berikut di Board Manager URLs:</p>
                            <code class="bg-white p-2 rounded text-sm block">https://dl.espressif.com/dl/package_esp32_index.json</code>
                        </div>
                        
                        <div class="bg-green-50 border-l-4 border-green-400 p-4">
                            <h3 class="font-medium text-green-900 mb-2">2. Board Configuration</h3>
                            <ul class="text-green-800 text-sm space-y-1">
                                <li><strong>Board:</strong> "AI Thinker ESP32-CAM"</li>
                                <li><strong>Partition Scheme:</strong> "Huge APP (3MB No OTA/1MB SPIFFS)"</li>
                                <li><strong>CPU Frequency:</strong> "240MHz (WiFi/BT)"</li>
                                <li><strong>Flash Frequency:</strong> "80MHz"</li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900 mb-2">3. Upload Process ke ESP32</h3>
                            <ol class="text-yellow-800 text-sm space-y-1 list-decimal list-inside">
                                <li>Hubungkan IO0 ke GND</li>
                                <li>Tekan tombol reset ESP32-CAM</li>
                                <li>Klik Upload di Arduino IDE</li>
                                <li>Setelah selesai, lepas IO0-GND dan reset lagi</li>
                            </ol>
                        </div>
                    </div>
                </section>

                <!-- Configuration Options -->
                <section id="configuration" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-sliders-h text-orange-500 mr-2"></i>
                        Configuration Options
                    </h2>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Parameter</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Default</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Description</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-900">FRAME_RATE</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">5</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">Frame per detik (1-20)</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-900">CAMERA_RESOLUTION</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">FRAMESIZE_VGA</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">Resolusi kamera (96x96 - 1600x1200)</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-900">JPEG_QUALITY</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">15</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">Kualitas JPEG (0-63, lower = better)</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-900">AUTO_RESTART_ON_ERROR</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">true</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">Auto restart jika terlalu banyak error</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 text-sm font-medium text-gray-900">ENABLE_LED_INDICATOR</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">true</td>
                                    <td class="px-6 py-4 text-sm text-gray-500">LED indikator status</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Resolution Guide -->
                <section id="resolutions" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-expand-arrows-alt text-indigo-500 mr-2"></i>
                        Resolution Guide
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <h3 class="font-medium text-green-900 mb-2">Low Bandwidth</h3>
                            <ul class="text-sm text-green-800 space-y-1">
                                <li>• QVGA (320x240)</li>
                                <li>• HVGA (480x320)</li>
                                <li>• Quality: 25-35</li>
                                <li>• FPS: 1-5</li>
                            </ul>
                            <p class="text-xs text-green-600 mt-2">Cocok untuk monitoring basic</p>
                        </div>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <h3 class="font-medium text-blue-900 mb-2">Balanced</h3>
                            <ul class="text-sm text-blue-800 space-y-1">
                                <li>• VGA (640x480)</li>
                                <li>• SVGA (800x600)</li>
                                <li>• Quality: 15-25</li>
                                <li>• FPS: 5-10</li>
                            </ul>
                            <p class="text-xs text-blue-600 mt-2">Recommended untuk umum</p>
                        </div>
                        
                        <div class="bg-purple-50 border border-purple-200 rounded-lg p-4">
                            <h3 class="font-medium text-purple-900 mb-2">High Quality</h3>
                            <ul class="text-sm text-purple-800 space-y-1">
                                <li>• HD (1280x720)</li>
                                <li>• UXGA (1600x1200)</li>
                                <li>• Quality: 5-15</li>
                                <li>• FPS: 1-5</li>
                            </ul>
                            <p class="text-xs text-purple-600 mt-2">Butuh PSRAM & WiFi kuat</p>
                        </div>
                    </div>
                </section>

                <!-- Performance Tips -->
                <section id="performance" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-tachometer-alt text-red-500 mr-2"></i>
                        Performance Tips
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="text-lg font-medium text-gray-900 mb-3">
                                <i class="fas fa-rocket text-green-500 mr-2"></i>
                                Optimize for Speed
                            </h3>
                            <ul class="space-y-2 text-gray-600">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                    <span>Gunakan resolusi rendah (HVGA/VGA)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                    <span>Set JPEG quality 20-30</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                    <span>Frame rate 10-15 FPS</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                    <span>Pastikan WiFi signal kuat</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-medium text-gray-900 mb-3">
                                <i class="fas fa-gem text-blue-500 mr-2"></i>
                                Optimize for Quality
                            </h3>
                            <ul class="space-y-2 text-gray-600">
                                <li class="flex items-start">
                                    <i class="fas fa-check text-blue-500 mr-2 mt-1"></i>
                                    <span>Gunakan resolusi tinggi (HD/UXGA)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-blue-500 mr-2 mt-1"></i>
                                    <span>Set JPEG quality 5-15</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-blue-500 mr-2 mt-1"></i>
                                    <span>Frame rate 1-5 FPS</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check text-blue-500 mr-2 mt-1"></i>
                                    <span>Gunakan power supply 5V</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Troubleshooting -->
                <section id="troubleshooting" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-tools text-yellow-500 mr-2"></i>
                        Troubleshooting
                    </h2>
                    
                    <div class="space-y-4">
                        <div class="bg-red-50 border-l-4 border-red-400 p-4">
                            <h3 class="font-medium text-red-900 mb-2">❌ WiFi Connection Failed</h3>
                            <ul class="text-red-800 text-sm space-y-1">
                                <li>• Periksa SSID dan password WiFi</li>
                                <li>• Pastikan menggunakan WiFi 2.4GHz (bukan 5GHz)</li>
                                <li>• Cek jarak dari router</li>
                                <li>• Restart ESP32-CAM</li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
                            <h3 class="font-medium text-yellow-900 mb-2">⚠️ Server Error 403/401</h3>
                            <ul class="text-yellow-800 text-sm space-y-1">
                                <li>• Periksa Device ID dan API Key</li>
                                <li>• Pastikan server URL benar</li>
                                <li>• Cek apakah device sudah terdaftar di dashboard</li>
                                <li>• Regenerate API key jika perlu</li>
                            </ul>
                        </div>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-400 p-4">
                            <h3 class="font-medium text-blue-900 mb-2">🔧 Performance Issues</h3>
                            <ul class="text-blue-800 text-sm space-y-1">
                                <li>• Turunkan resolusi atau frame rate</li>
                                <li>• Naikkan JPEG quality number (lower quality)</li>
                                <li>• Gunakan power supply eksternal 5V</li>
                                <li>• Pindah lebih dekat ke router WiFi</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Example Configurations -->
                <section id="examples" class="bg-white rounded-lg shadow p-6 mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">
                        <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                        Example Configurations
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h3 class="font-medium text-gray-900 mb-3">
                                <i class="fas fa-eye text-blue-500 mr-2"></i>
                                Basic Monitoring
                            </h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>• Resolution: QVGA (320x240)</li>
                                <li>• Frame Rate: 2 FPS</li>
                                <li>• Quality: 25</li>
                                <li>• Use Case: Security monitoring</li>
                            </ul>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h3 class="font-medium text-gray-900 mb-3">
                                <i class="fas fa-video text-green-500 mr-2"></i>
                                Live Streaming
                            </h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>• Resolution: VGA (640x480)</li>
                                <li>• Frame Rate: 10 FPS</li>
                                <li>• Quality: 15</li>
                                <li>• Use Case: Live broadcast</li>
                            </ul>
                        </div>
                        
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h3 class="font-medium text-gray-900 mb-3">
                                <i class="fas fa-camera text-purple-500 mr-2"></i>
                                High Quality Photos
                            </h3>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>• Resolution: UXGA (1600x1200)</li>
                                <li>• Frame Rate: 1 FPS</li>
                                <li>• Quality: 8</li>
                                <li>• Use Case: Photo capture</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Call to Action -->
                <section class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow p-8 text-center">
                    <h2 class="text-2xl font-bold text-white mb-4">Ready to Get Started?</h2>
                    <p class="text-blue-100 mb-6">
                        Generate kode Arduino yang sudah dikonfigurasi sesuai kebutuhan Anda
                    </p>
                    <a href="/docs/generator" class="bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-lg font-medium inline-flex items-center">
                        <i class="fas fa-code mr-2"></i>
                        Open Code Generator
                    </a>
                </section>
            </div>
        </div>
    </main>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
